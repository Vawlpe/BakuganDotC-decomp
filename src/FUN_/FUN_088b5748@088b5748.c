#include "ULUS10536_MYTHREAD-MAIN.BIN.h"

void FUN_088b5748(float param_1,float param_2,int param_3,undefined4 *param_4,undefined4 *param_5)

{
  undefined auVar1 [12];
  undefined auVar2 [12];
  undefined auVar3 [64];
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined auVar15 [64];
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  int iVar19;
  int iVar20;
  int iVar21;
  int iVar22;
  undefined4 *puVar23;
  undefined (*pauVar24) [12];
  float fVar25;
  undefined4 in_V72;
  undefined4 in_V76;
  undefined4 in_V7A;
  undefined4 in_V7D;
  undefined4 in_V7E;
  undefined4 uVar26;
  undefined auStack_c0 [4];
  float local_bc;
  float local_ac;
  undefined4 local_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 *local_64;
  undefined (*local_60) [12];
  undefined4 *local_5c;
  float local_58;
  int local_54;
  int local_50;
  undefined4 local_4c;
  int local_48;
  undefined (*local_44) [12];
  
  *(undefined4 *)(param_3 + 8) = 0x86;
  *(undefined4 *)(param_3 + 0x18c) = 0x3f800000;
  *(undefined4 *)(param_3 + 0x140) = 0;
  *(undefined4 *)(param_3 + 0x19c) = 0;
  *(undefined4 *)(param_3 + 0x148) = 0xffffffff;
  *(undefined *)(param_3 + 0xbc) = 1;
  uVar18 = DAT_08b0019c;
  uVar17 = DAT_08b00198;
  uVar16 = DAT_08b00194;
  *(undefined4 *)(param_3 + 0x60) = DAT_08b00190;
  *(undefined4 *)(param_3 + 100) = uVar16;
  *(undefined4 *)(param_3 + 0x68) = uVar17;
  *(undefined4 *)(param_3 + 0x6c) = uVar18;
  memset_jak(param_3 + 0x14c,0,0x20);
  *(undefined4 *)(param_3 + 400) = 0x3f800000;
  *(undefined4 *)(param_3 + 0x194) = 0x3fc00000;
  *(undefined *)(param_3 + 0x198) = 0;
  *(undefined4 *)(param_3 + 0x1c0) = 0xb4;
  puVar23 = (undefined4 *)(param_3 + 0x1b0);
  *puVar23 = in_V72;
  *(undefined4 *)(param_3 + 0x1b4) = in_V76;
  *(undefined4 *)(param_3 + 0x1b8) = in_V7A;
  *(undefined4 *)(param_3 + 0x1bc) = in_V7E;
  *(undefined4 *)(param_3 + 0x1c4) = 0;
  *(undefined4 *)(param_3 + 0x1cc) = 0;
  *(undefined *)(param_3 + 0x1d0) = 1;
  iVar20 = *(int *)(param_3 + 0x130);
  uVar26 = param_4[1];
  uVar7 = param_4[2];
  uVar11 = param_4[3];
  uVar16 = param_4[4];
  uVar4 = param_4[5];
  uVar8 = param_4[6];
  uVar12 = param_4[7];
  uVar17 = param_4[8];
  uVar5 = param_4[9];
  uVar9 = param_4[10];
  uVar13 = param_4[0xb];
  uVar18 = param_4[0xc];
  uVar6 = param_4[0xd];
  uVar10 = param_4[0xe];
  uVar14 = param_4[0xf];
  *(undefined4 *)(iVar20 + 0x80) = *param_4;
  *(undefined4 *)(iVar20 + 0x84) = uVar26;
  *(undefined4 *)(iVar20 + 0x88) = uVar7;
  *(undefined4 *)(iVar20 + 0x8c) = uVar11;
  *(undefined4 *)(iVar20 + 0x90) = uVar16;
  *(undefined4 *)(iVar20 + 0x94) = uVar4;
  *(undefined4 *)(iVar20 + 0x98) = uVar8;
  *(undefined4 *)(iVar20 + 0x9c) = uVar12;
  *(undefined4 *)(iVar20 + 0xa0) = uVar17;
  *(undefined4 *)(iVar20 + 0xa4) = uVar5;
  *(undefined4 *)(iVar20 + 0xa8) = uVar9;
  *(undefined4 *)(iVar20 + 0xac) = uVar13;
  *(undefined4 *)(iVar20 + 0xb0) = uVar18;
  *(undefined4 *)(iVar20 + 0xb4) = uVar6;
  *(undefined4 *)(iVar20 + 0xb8) = uVar10;
  *(undefined4 *)(iVar20 + 0xbc) = uVar14;
  FUN_089df8a4(param_3);
  if (param_5 != (undefined4 *)0x0) {
    uVar16 = param_5[1];
    uVar17 = param_5[2];
    uVar18 = param_5[3];
    *puVar23 = *param_5;
    *(undefined4 *)(param_3 + 0x1b4) = uVar16;
    *(undefined4 *)(param_3 + 0x1b8) = uVar17;
    *(undefined4 *)(param_3 + 0x1bc) = uVar18;
  }
  iVar20 = *(int *)(param_3 + 0xec);
  local_5c = puVar23;
  local_58 = param_1;
  FUN_089d8634();
  uVar16 = FUN_089d81a4();
  FUN_089d816c(1);
  uVar17 = FUN_089d7d74(iVar20 << 2,0,0);
  FUN_089d816c(uVar16);
  FUN_089d866c();
  local_50 = *(int *)(param_3 + 0xec);
  *(undefined4 *)(param_3 + 0x1c8) = uVar17;
  local_4c = 0;
  iVar20 = local_50 * 0x170;
  FUN_089d8634();
  uVar16 = FUN_089d81a4();
  FUN_089d816c(1);
  local_54 = FUN_089d7d74(iVar20 + 0x10,0,0);
  FUN_089d816c(uVar16);
  FUN_089d866c();
  uVar16 = local_4c;
  if (local_54 != 0) {
    uVar16 = FUN_08a02cb4(local_54 + DAT_08af1178,local_50,0x170,FUN_089e681c,0);
  }
  *(undefined4 *)(param_3 + 0x19c) = uVar16;
  uVar16 = *(undefined4 *)(*(int *)(param_3 + 0x130) + 0xb0);
  uVar17 = *(undefined4 *)(*(int *)(param_3 + 0x130) + 0xb8);
  if (DAT_08af8000 == 0) {
    DAT_08af8000 = 1;
    DAT_08af8010 = 0x40a00000;
    DAT_08af8014 = 0;
    DAT_08af8018 = 0x40a00000;
    DAT_08af801c = 0;
  }
  iVar20 = 0;
  if (0 < *(int *)(param_3 + 0xec)) {
    local_64 = &DAT_08b001a0;
    local_60 = (undefined (*) [12])&DAT_08af8010;
    iVar22 = 0;
    local_48 = 0;
    pauVar24 = (undefined (*) [12])&DAT_08b00140;
    do {
      local_44 = pauVar24;
      uVar18 = FUN_089df014(param_3,iVar20);
      iVar19 = FUN_089ded60(param_3,uVar18);
      puVar23 = (undefined4 *)(iVar19 + 0x80);
      FUN_089e1cfc(param_3,iVar20,auStack_c0);
      iVar21 = *(int *)(param_3 + 0x130);
      auVar3._60_4_ = *(undefined4 *)(iVar21 + 0xbc);
      auVar3._56_4_ = *(undefined4 *)(iVar21 + 0xac);
      auVar3._52_4_ = *(undefined4 *)(iVar21 + 0x9c);
      auVar3._48_4_ = *(undefined4 *)(iVar21 + 0x8c);
      auVar3._44_4_ = *(undefined4 *)(iVar21 + 0xb8);
      auVar3._40_4_ = *(undefined4 *)(iVar21 + 0xa8);
      auVar3._36_4_ = *(undefined4 *)(iVar21 + 0x98);
      auVar3._32_4_ = *(undefined4 *)(iVar21 + 0x88);
      auVar3._28_4_ = *(undefined4 *)(iVar21 + 0xb4);
      auVar3._24_4_ = *(undefined4 *)(iVar21 + 0xa4);
      auVar3._20_4_ = *(undefined4 *)(iVar21 + 0x94);
      auVar3._16_4_ = *(undefined4 *)(iVar21 + 0x84);
      auVar3._12_4_ = *(undefined4 *)(iVar21 + 0xb0);
      auVar3._8_4_ = *(undefined4 *)(iVar21 + 0xa0);
      auVar3._4_4_ = *(undefined4 *)(iVar21 + 0x90);
      auVar3._0_4_ = *(undefined4 *)(iVar21 + 0x80);
      auVar15._60_4_ = *(undefined4 *)(iVar19 + 0xbc);
      auVar15._56_4_ = *(undefined4 *)(iVar19 + 0xac);
      auVar15._52_4_ = *(undefined4 *)(iVar19 + 0x9c);
      auVar15._48_4_ = *(undefined4 *)(iVar19 + 0x8c);
      auVar15._44_4_ = *(undefined4 *)(iVar19 + 0xb8);
      auVar15._40_4_ = *(undefined4 *)(iVar19 + 0xa8);
      auVar15._36_4_ = *(undefined4 *)(iVar19 + 0x98);
      auVar15._32_4_ = *(undefined4 *)(iVar19 + 0x88);
      auVar15._28_4_ = *(undefined4 *)(iVar19 + 0xb4);
      auVar15._24_4_ = *(undefined4 *)(iVar19 + 0xa4);
      auVar15._20_4_ = *(undefined4 *)(iVar19 + 0x94);
      auVar15._16_4_ = *(undefined4 *)(iVar19 + 0x84);
      auVar15._12_4_ = *(undefined4 *)(iVar19 + 0xb0);
      auVar15._8_4_ = *(undefined4 *)(iVar19 + 0xa0);
      auVar15._4_4_ = *(undefined4 *)(iVar19 + 0x90);
      auVar15._0_4_ = *puVar23;
      auVar3 = vmmul_q(auVar3,auVar15);
      *puVar23 = auVar3._0_4_;
      *(int *)(iVar19 + 0x84) = auVar3._16_4_;
      *(int *)(iVar19 + 0x88) = auVar3._32_4_;
      *(int *)(iVar19 + 0x8c) = auVar3._48_4_;
      *(int *)(iVar19 + 0x90) = auVar3._4_4_;
      *(int *)(iVar19 + 0x94) = auVar3._20_4_;
      *(int *)(iVar19 + 0x98) = auVar3._36_4_;
      *(int *)(iVar19 + 0x9c) = auVar3._52_4_;
      *(int *)(iVar19 + 0xa0) = auVar3._8_4_;
      *(int *)(iVar19 + 0xa4) = auVar3._24_4_;
      *(int *)(iVar19 + 0xa8) = auVar3._40_4_;
      *(int *)(iVar19 + 0xac) = auVar3._56_4_;
      *(int *)(iVar19 + 0xb0) = auVar3._12_4_;
      *(int *)(iVar19 + 0xb4) = auVar3._28_4_;
      *(int *)(iVar19 + 0xb8) = auVar3._44_4_;
      *(int *)(iVar19 + 0xbc) = auVar3._60_4_;
      FUN_089e7974(*(int *)(param_3 + 0x19c) + iVar22,puVar23,auStack_c0,0);
      *(float *)(*(int *)(param_3 + 0x19c) + iVar22 + 0x104) =
           local_58 - (local_ac + local_bc) * 0.5;
      *(undefined4 *)(*(int *)(param_3 + 0x19c) + iVar22 + 0x10c) = 0x40133333;
      FUN_089e68d4(0x3f000000,*(int *)(param_3 + 0x19c) + iVar22,local_64,0);
      pauVar24 = local_44;
      iVar21 = local_48;
      auVar1._4_4_ = param_2 - 1.0;
      auVar1._0_4_ = uVar16;
      auVar1._8_4_ = uVar17;
      auVar1 = vsub_t(*(undefined (*) [12])(iVar19 + 0xb0),auVar1);
      uVar18 = vdot_t(auVar1,auVar1);
      fVar25 = (float)vsqrt_s(uVar18);
      if (300.0 < fVar25) {
        fVar25 = 300.0;
      }
      uVar18 = vdot_t(auVar1,auVar1);
      uVar26 = vcmp_s(8,uVar18,auVar1._0_4_);
      vrsq_s(uVar18);
      uVar18 = vcmovt_s(in_V7D,(byte)uVar26 & 1);
      uVar18 = vmul_s(uVar18,fVar25 * 0.05);
      auVar1 = vscl_t(auVar1,uVar18);
      if (DAT_08b00150 == 0) {
        DAT_08b00150 = 1;
        DAT_08b00140 = 0x3fc00000;
        *(undefined4 *)((int)*local_44 + 4) = 0x3fc00000;
        *(undefined4 *)((int)*local_44 + 8) = 0x3fc00000;
        *(undefined4 *)local_44[1] = 0;
      }
      auVar2 = vrndf1_t();
      auVar2 = vsub_t(auVar2,*local_44);
      auVar2 = vmul_t(auVar2,*local_60);
      auVar2 = vadd_t(auVar1,auVar2);
      local_a0 = auVar2._0_4_;
      uStack_9c = auVar2._4_4_;
      uStack_98 = auVar2._8_4_;
      FUN_089e6a58(*(int *)(param_3 + 0x19c) + iVar22,&local_a0);
      FUN_089e6a58(*(int *)(param_3 + 0x19c) + iVar22,local_5c);
      auVar1 = vscl_t(auVar1,0x40a00000);
      local_a0 = auVar1._0_4_;
      uStack_9c = auVar1._4_4_;
      uStack_98 = auVar1._8_4_;
      FUN_089e6a14(*(int *)(param_3 + 0x19c) + iVar22,&local_a0);
      *(undefined4 *)(*(int *)(param_3 + 0x1c8) + iVar21) = 0;
      *(undefined *)(param_3 + iVar20 + 0x16c) = 0;
      iVar20 = iVar20 + 1;
      iVar22 = iVar22 + 0x170;
      local_48 = iVar21 + 4;
    } while (iVar20 < *(int *)(param_3 + 0xec));
  }
  iVar20 = *(int *)(param_3 + 0x130);
  auVar3 = vmidt_q();
  *(int *)(iVar20 + 0x80) = auVar3._0_4_;
  *(int *)(iVar20 + 0x84) = auVar3._16_4_;
  *(int *)(iVar20 + 0x88) = auVar3._32_4_;
  *(int *)(iVar20 + 0x8c) = auVar3._48_4_;
  *(int *)(iVar20 + 0x90) = auVar3._4_4_;
  *(int *)(iVar20 + 0x94) = auVar3._20_4_;
  *(int *)(iVar20 + 0x98) = auVar3._36_4_;
  *(int *)(iVar20 + 0x9c) = auVar3._52_4_;
  *(int *)(iVar20 + 0xa0) = auVar3._8_4_;
  *(int *)(iVar20 + 0xa4) = auVar3._24_4_;
  *(int *)(iVar20 + 0xa8) = auVar3._40_4_;
  *(int *)(iVar20 + 0xac) = auVar3._56_4_;
  *(int *)(iVar20 + 0xb0) = auVar3._12_4_;
  *(int *)(iVar20 + 0xb4) = auVar3._28_4_;
  *(int *)(iVar20 + 0xb8) = auVar3._44_4_;
  *(int *)(iVar20 + 0xbc) = auVar3._60_4_;
  *(undefined *)(param_3 + 0xb8) = 1;
  return;
}

