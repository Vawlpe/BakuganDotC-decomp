#include "ULUS10536_MYTHREAD-MAIN.BIN.h"

void FUN_08880648(int param_1)

{
  undefined auVar1 [12];
  undefined auVar2 [12];
  undefined auVar3 [16];
  undefined auVar4 [16];
  undefined auVar5 [64];
  undefined auVar6 [16];
  undefined auVar7 [16];
  undefined auVar8 [64];
  undefined auVar9 [64];
  int iVar11;
  undefined4 *puVar12;
  int iVar13;
  undefined (*pauVar14) [12];
  float fVar15;
  undefined4 uVar16;
  undefined4 in_V7C;
  undefined4 in_V7D;
  undefined4 uVar17;
  undefined4 local_b0;
  float local_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 local_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_94;
  undefined auVar10 [64];
  
  if (*(int *)(param_1 + 0xf4) == 0) {
    iVar11 = *(int *)(*(int *)(param_1 + 0xbc) + 0x14);
    (**(code **)(iVar11 + 0x14))(*(int *)(param_1 + 0xbc) + (int)*(short *)(iVar11 + 0x10));
  }
  else if (0x11 < *(int *)(param_1 + 0xf4)) {
    *(undefined4 *)(*(int *)(param_1 + 0xbc) + 0x170) = 2;
    *(undefined4 *)(param_1 + 0xbc) = 0;
    FUN_08876ee0(param_1);
    return;
  }
  pauVar14 = (undefined (*) [12])(param_1 + 0x60);
  if (DAT_08af7e30 == 0) {
    DAT_08af7e30 = 1;
    DAT_08af7e44 = 0;
    DAT_08af7e40 = 0x42200000;
    DAT_08af7e48 = 0;
    DAT_08af7e4c = 0;
  }
  uVar16 = vmul_s(0x3f75be0b,in_V7C);
  auVar6 = vrot_q(uVar16,1,2,0,0);
  auVar7 = vrot_q(uVar16,3,1,0,0);
  auVar3 = vidt_q();
  auVar4 = vidt_q();
  iVar11 = *(int *)(param_1 + 200);
  auVar5._60_4_ = *(undefined4 *)(iVar11 + 0xbc);
  auVar5._56_4_ = *(undefined4 *)(iVar11 + 0xac);
  auVar5._52_4_ = *(undefined4 *)(iVar11 + 0x9c);
  auVar5._48_4_ = *(undefined4 *)(iVar11 + 0x8c);
  auVar5._44_4_ = *(undefined4 *)(iVar11 + 0xb8);
  auVar5._40_4_ = *(undefined4 *)(iVar11 + 0xa8);
  auVar5._36_4_ = *(undefined4 *)(iVar11 + 0x98);
  auVar5._32_4_ = *(undefined4 *)(iVar11 + 0x88);
  auVar5._28_4_ = *(undefined4 *)(iVar11 + 0xb4);
  auVar5._24_4_ = *(undefined4 *)(iVar11 + 0xa4);
  auVar5._20_4_ = *(undefined4 *)(iVar11 + 0x94);
  auVar5._16_4_ = *(undefined4 *)(iVar11 + 0x84);
  auVar5._12_4_ = *(undefined4 *)(iVar11 + 0xb0);
  auVar5._8_4_ = *(undefined4 *)(iVar11 + 0xa0);
  auVar5._4_4_ = *(undefined4 *)(iVar11 + 0x90);
  auVar5._0_4_ = *(undefined4 *)(iVar11 + 0x80);
  auVar8._60_4_ = auVar4._12_4_;
  auVar8._56_4_ = auVar3._12_4_;
  auVar8._52_4_ = auVar7._12_4_;
  auVar8._48_4_ = auVar6._12_4_;
  auVar8._44_4_ = auVar4._8_4_;
  auVar8._40_4_ = auVar3._8_4_;
  auVar8._36_4_ = auVar7._8_4_;
  auVar8._32_4_ = auVar6._8_4_;
  auVar8._28_4_ = auVar4._4_4_;
  auVar8._24_4_ = auVar3._4_4_;
  auVar8._20_4_ = auVar7._4_4_;
  auVar8._16_4_ = auVar6._4_4_;
  auVar8._12_4_ = auVar4._0_4_;
  auVar8._8_4_ = auVar3._0_4_;
  auVar8._4_4_ = auVar7._0_4_;
  auVar8._0_4_ = auVar6._0_4_;
  auVar5 = vmmul_q(auVar5,auVar8);
  *(undefined4 *)(iVar11 + 0x80) = auVar5._0_4_;
  *(int *)(iVar11 + 0x84) = auVar5._16_4_;
  *(int *)(iVar11 + 0x88) = auVar5._32_4_;
  *(int *)(iVar11 + 0x8c) = auVar5._48_4_;
  *(int *)(iVar11 + 0x90) = auVar5._4_4_;
  *(int *)(iVar11 + 0x94) = auVar5._20_4_;
  *(int *)(iVar11 + 0x98) = auVar5._36_4_;
  *(int *)(iVar11 + 0x9c) = auVar5._52_4_;
  *(int *)(iVar11 + 0xa0) = auVar5._8_4_;
  *(int *)(iVar11 + 0xa4) = auVar5._24_4_;
  *(int *)(iVar11 + 0xa8) = auVar5._40_4_;
  *(int *)(iVar11 + 0xac) = auVar5._56_4_;
  *(int *)(iVar11 + 0xb0) = auVar5._12_4_;
  *(int *)(iVar11 + 0xb4) = auVar5._28_4_;
  *(int *)(iVar11 + 0xb8) = auVar5._44_4_;
  *(int *)(iVar11 + 0xbc) = auVar5._60_4_;
  iVar11 = *(int *)(*(int *)(param_1 + 0xb0) + 0x130);
  iVar13 = *(int *)(param_1 + 200);
  auVar9._60_4_ = *(undefined4 *)(iVar11 + 0xbc);
  auVar9._56_4_ = *(undefined4 *)(iVar11 + 0xac);
  auVar9._52_4_ = *(undefined4 *)(iVar11 + 0x9c);
  auVar9._48_4_ = *(undefined4 *)(iVar11 + 0x8c);
  auVar9._44_4_ = *(undefined4 *)(iVar11 + 0xb8);
  auVar9._40_4_ = *(undefined4 *)(iVar11 + 0xa8);
  auVar9._36_4_ = *(undefined4 *)(iVar11 + 0x98);
  auVar9._32_4_ = *(undefined4 *)(iVar11 + 0x88);
  auVar9._28_4_ = *(undefined4 *)(iVar11 + 0xb4);
  auVar9._24_4_ = *(undefined4 *)(iVar11 + 0xa4);
  auVar9._20_4_ = *(undefined4 *)(iVar11 + 0x94);
  auVar9._16_4_ = *(undefined4 *)(iVar11 + 0x84);
  auVar9._12_4_ = *(undefined4 *)(iVar11 + 0xb0);
  auVar9._8_4_ = *(undefined4 *)(iVar11 + 0xa0);
  auVar9._4_4_ = *(undefined4 *)(iVar11 + 0x90);
  auVar9._0_4_ = *(undefined4 *)(iVar11 + 0x80);
  auVar10._60_4_ = *(undefined4 *)(iVar13 + 0xbc);
  auVar10._56_4_ = *(undefined4 *)(iVar13 + 0xac);
  auVar10._52_4_ = *(undefined4 *)(iVar13 + 0x9c);
  auVar10._48_4_ = *(undefined4 *)(iVar13 + 0x8c);
  auVar10._44_4_ = *(undefined4 *)(iVar13 + 0xb8);
  auVar10._40_4_ = *(undefined4 *)(iVar13 + 0xa8);
  auVar10._36_4_ = *(undefined4 *)(iVar13 + 0x98);
  auVar10._32_4_ = *(undefined4 *)(iVar13 + 0x88);
  auVar10._28_4_ = *(undefined4 *)(iVar13 + 0xb4);
  auVar10._24_4_ = *(undefined4 *)(iVar13 + 0xa4);
  auVar10._20_4_ = *(undefined4 *)(iVar13 + 0x94);
  auVar10._16_4_ = *(undefined4 *)(iVar13 + 0x84);
  auVar10._12_4_ = *(undefined4 *)(iVar13 + 0xb0);
  auVar10._8_4_ = *(undefined4 *)(iVar13 + 0xa0);
  auVar10._4_4_ = *(undefined4 *)(iVar13 + 0x90);
  auVar10._0_4_ = *(undefined4 *)(iVar13 + 0x80);
  auVar5 = vmmul_q(auVar9,auVar10);
  *(undefined4 *)(param_1 + 0x20) = auVar5._0_4_;
  *(int *)(param_1 + 0x24) = auVar5._16_4_;
  *(int *)(param_1 + 0x28) = auVar5._32_4_;
  *(int *)(param_1 + 0x2c) = auVar5._48_4_;
  *(int *)(param_1 + 0x30) = auVar5._4_4_;
  *(int *)(param_1 + 0x34) = auVar5._20_4_;
  *(int *)(param_1 + 0x38) = auVar5._36_4_;
  *(int *)(param_1 + 0x3c) = auVar5._52_4_;
  *(int *)(param_1 + 0x40) = auVar5._8_4_;
  *(int *)(param_1 + 0x44) = auVar5._24_4_;
  *(int *)(param_1 + 0x48) = auVar5._40_4_;
  *(int *)(param_1 + 0x4c) = auVar5._56_4_;
  *(int *)(param_1 + 0x50) = auVar5._12_4_;
  *(int *)(param_1 + 0x54) = auVar5._28_4_;
  *(int *)(param_1 + 0x58) = auVar5._44_4_;
  *(int *)(param_1 + 0x5c) = auVar5._60_4_;
  uVar16 = vfim_s(0x3c00);
  auVar4._8_8_ = *(undefined8 *)(param_1 + 0x30);
  auVar4._4_4_ = *(undefined4 *)(param_1 + 0x24);
  auVar4._0_4_ = *(undefined4 *)(param_1 + 0x20);
  auVar3._12_4_ = uVar16;
  auVar3._8_4_ = DAT_08af7e48;
  auVar3._4_4_ = DAT_08af7e44;
  auVar3._0_4_ = DAT_08af7e40;
  auVar3 = vtfm4_q(auVar4,auVar3);
  *(int *)*pauVar14 = auVar3._0_4_;
  *(int *)(param_1 + 100) = auVar3._4_4_;
  *(int *)(param_1 + 0x68) = auVar3._8_4_;
  *(int *)(param_1 + 0x6c) = auVar3._12_4_;
  iVar11 = FUN_088663a0(*(undefined4 *)(param_1 + 0xb4));
  if (iVar11 == 0) {
    iVar11 = FUN_08878084(0x41200000,param_1,pauVar14,param_1 + 0x70,0x94,3,0,0x31bf337e);
    if (iVar11 == 0) {
      uVar16 = vmul_s(*(undefined4 *)(*(int *)(param_1 + 0xb0) + 0x34),in_V7C);
      auVar3 = vrot_q(uVar16,1,0,2,0);
      uStack_a4 = auVar3._12_4_;
      auVar1 = vscl_t(auVar3._0_12_,0x43fa0000);
      auVar1 = vadd_t(auVar1,*pauVar14);
      local_b0 = auVar1._0_4_;
      local_ac = auVar1._4_4_;
      uStack_a8 = auVar1._8_4_;
    }
    else {
      local_b0 = DAT_08aba930;
      local_ac = DAT_08aba934;
      uStack_a8 = DAT_08aba938;
      uStack_a4 = DAT_08aba93c;
    }
  }
  else {
    local_b0 = *(undefined4 *)(iVar11 + 0x20);
    uStack_a8 = *(undefined4 *)(iVar11 + 0x28);
    uStack_a4 = *(undefined4 *)(iVar11 + 0x2c);
    local_ac = *(float *)(iVar11 + 0x24) + *(float *)(iVar11 + 0x17c) * 0.8;
    auVar1._4_4_ = local_ac;
    auVar1._0_4_ = local_b0;
    auVar1._8_4_ = uStack_a8;
    auVar1 = vsub_t(auVar1,*(undefined (*) [12])(param_1 + 0x60));
    local_a0 = auVar1._0_4_;
    uStack_9c = auVar1._4_4_;
    uStack_98 = auVar1._8_4_;
    uStack_94 = uStack_a4;
    FUN_08878084(0x41200000,param_1,pauVar14,&local_a0,0x94,3,0,0x31bf337e);
  }
  FUN_08823f5c(DAT_08b00920,0xeb,pauVar14);
  if (*(int *)(param_1 + 0xf4) % 3 == 0) {
    FUN_08823f5c(DAT_08b00920,0xec,&local_b0);
  }
  auVar2._4_4_ = local_ac;
  auVar2._0_4_ = local_b0;
  auVar2._8_4_ = uStack_a8;
  auVar1 = vsub_t(auVar2,*pauVar14);
  uVar16 = vdot_t(auVar1,auVar1);
  fVar15 = (float)vsqrt_s(uVar16);
  uVar16 = vdot_t(auVar1,auVar1);
  uVar17 = vcmp_s(8,uVar16,auVar1._0_4_);
  vrsq_s(uVar16);
  uVar16 = vcmovt_s(in_V7D,(byte)uVar17 & 1);
  vpfxd(4,4,4,5);
  auVar2 = vscl_t(auVar1,uVar16);
  iVar11 = *(int *)(param_1 + 0xbc);
  *(int *)(iVar11 + 0x90) = auVar2._0_4_;
  *(int *)(iVar11 + 0x94) = auVar2._4_4_;
  *(int *)(iVar11 + 0x98) = auVar2._8_4_;
  *(undefined4 *)(iVar11 + 0x9c) = in_V7D;
  *(float *)(*(int *)(param_1 + 0xbc) + 0x1d0) = fVar15 * 0.1;
  puVar12 = *(undefined4 **)(*(int *)(*(int *)(param_1 + 0xbc) + 0x204) + 0x100);
  auVar1 = vscl_t(auVar2,0);
  uVar16 = *(undefined4 *)(param_1 + 0x6c);
  auVar1 = vadd_t(*pauVar14,auVar1);
  *puVar12 = auVar1._0_4_;
  puVar12[1] = auVar1._4_4_;
  puVar12[2] = auVar1._8_4_;
  puVar12[3] = uVar16;
  auVar1 = vscl_t(auVar2,fVar15 * 0.1);
  uVar16 = *(undefined4 *)(param_1 + 0x6c);
  auVar1 = vadd_t(*pauVar14,auVar1);
  puVar12[4] = auVar1._0_4_;
  puVar12[5] = auVar1._4_4_;
  puVar12[6] = auVar1._8_4_;
  puVar12[7] = uVar16;
  auVar1 = vscl_t(auVar2,fVar15 * 0.2);
  uVar16 = *(undefined4 *)(param_1 + 0x6c);
  auVar1 = vadd_t(*pauVar14,auVar1);
  puVar12[8] = auVar1._0_4_;
  puVar12[9] = auVar1._4_4_;
  puVar12[10] = auVar1._8_4_;
  puVar12[0xb] = uVar16;
  auVar1 = vscl_t(auVar2,fVar15 * 0.9);
  uVar16 = *(undefined4 *)(param_1 + 0x6c);
  auVar1 = vadd_t(*pauVar14,auVar1);
  puVar12[0xc] = auVar1._0_4_;
  puVar12[0xd] = auVar1._4_4_;
  puVar12[0xe] = auVar1._8_4_;
  puVar12[0xf] = uVar16;
  auVar1 = vscl_t(auVar2,fVar15);
  uVar16 = *(undefined4 *)(param_1 + 0x6c);
  auVar1 = vadd_t(*pauVar14,auVar1);
  puVar12[0x10] = auVar1._0_4_;
  puVar12[0x11] = auVar1._4_4_;
  puVar12[0x12] = auVar1._8_4_;
  puVar12[0x13] = uVar16;
  auVar1 = vscl_t(auVar2,fVar15 * 2.0);
  uVar16 = *(undefined4 *)(param_1 + 0x6c);
  auVar1 = vadd_t(*pauVar14,auVar1);
  puVar12[0x14] = auVar1._0_4_;
  puVar12[0x15] = auVar1._4_4_;
  puVar12[0x16] = auVar1._8_4_;
  puVar12[0x17] = uVar16;
  return;
}

